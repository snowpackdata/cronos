import{T as e,h as t,r as a,b as l,f as s,c as o,a as n,q as c,A as u,H as i,I as r,F as d,G as x,z as p,E as v,J as g,K as b,x as y,L as f,u as m,y as h,X as w,v as k,V as C,o as D}from"./index-2uCPEpPG.js";import{g as S,a as A}from"./subaccounts-iRweACMr.js";import{a as _}from"./index-8V-xrl-L.js";function F(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}function I(e){switch(e){case"pending_review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"duplicate":return"bg-red-100 text-red-800";case"excluded":default:return"bg-gray-100 text-gray-800";case"posted":return"bg-blue-100 text-blue-800"}}const U="/api/cronos/offline-journals";async function j(t,a,l){await e.put(`${U}/${t}`,{status:a,notes:l})}const E="/api/reconciliation";const V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},M={class:"bg-white shadow rounded p-2 mb-2"},L={key:0},T={key:1,class:"space-y-2"},N={class:"grid grid-cols-4 gap-2 bg-gray-50 p-2 rounded"},P=["value"],z=["value"],R=["value"],$={class:"flex items-center justify-between"},Y={class:"flex items-center text-xs text-gray-700"},H=["disabled"],G={class:"border rounded overflow-x-auto max-h-48 overflow-y-auto"},O={class:"min-w-full text-xs"},J={class:"bg-gray-50 sticky top-0"},q={class:"divide-y divide-gray-200"},W={class:"text-xs text-gray-500"},B={key:0,class:"text-xs text-green-700 mt-0.5"},K={class:"bg-white shadow rounded-lg p-3 mb-3"},X={class:"grid grid-cols-1 md:grid-cols-4 gap-2"},Q={class:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-4"},Z={class:"bg-white shadow rounded p-2"},ee={class:"text-lg font-bold text-yellow-600"},te={class:"bg-white shadow rounded p-2"},ae={class:"text-lg font-bold text-green-600"},le={class:"bg-white shadow rounded p-2"},se={class:"text-lg font-bold text-red-600"},oe={class:"bg-white shadow rounded p-2"},ne={class:"text-lg font-bold text-gray-600"},ce={class:"bg-white shadow rounded p-3 mb-3"},ue={class:"flex items-center justify-between mb-2"},ie={key:0,class:"space-y-1"},re={key:0,class:"text-xs text-gray-500 py-2"},de={key:1},xe={class:"font-medium text-gray-900"},pe={class:"text-right font-mono tabular-nums text-gray-700"},ve={class:"text-right font-mono tabular-nums text-gray-700"},ge={class:"text-2xs ml-1"},be={class:"grid grid-cols-4 gap-2 text-xs font-bold pt-2 border-t-2 border-gray-300"},ye={class:"text-right font-mono tabular-nums text-gray-900"},fe={class:"text-right font-mono tabular-nums text-gray-900"},me={key:0,class:"bg-blue-50 border border-blue-200 rounded p-2 mb-3"},he={class:"flex items-center justify-between"},we={class:"text-xs text-blue-900 font-medium"},ke={class:"space-x-1"},Ce={class:"bg-white shadow rounded-lg overflow-hidden"},De={class:"overflow-x-auto"},Se={class:"w-full table-fixed divide-y divide-gray-200"},Ae={class:"bg-gray-50"},_e={class:"px-2 py-1 text-left"},Fe={class:"bg-white divide-y divide-gray-200"},Ie={key:0},Ue={key:1},je=["onClick"],Ee={class:"px-2 py-1"},Ve=["checked","onClick"],Me=["title"],Le=["title"],Te=["title"],Ne={class:"px-2 py-1 text-xs text-gray-600"},Pe={class:"flex items-center gap-1.5 min-w-0"},ze=["onClick","title"],Re=["title"],$e={class:"px-1.5 py-1 text-xs text-right text-gray-900 font-mono tabular-nums truncate"},Ye={class:"px-1.5 py-1 text-xs text-right text-gray-900 font-mono tabular-nums truncate"},He={class:"px-1 py-1 text-center truncate"},Ge={class:"px-1 py-1 text-center"},Oe={class:"flex items-center justify-center gap-1"},Je=["onClick"],qe=["onClick"],We={key:2,class:"text-purple-600",title:"Reconciled with expense"},Be=["onClick"],Ke=["onClick"],Xe=["onClick"],Qe={class:"p-2"},Ze={class:"flex items-start gap-2"},et={class:"flex-1 min-w-0"},tt={class:"p-4"},at={class:"flex items-start gap-3 mb-4"},lt={class:"text-sm text-gray-900 font-medium mb-2"},st={class:"p-4"},ot={key:0,class:"bg-gray-50 rounded p-3 mb-4"},nt={class:"grid grid-cols-3 gap-3 text-xs"},ct={class:"ml-1 font-medium"},ut={class:"ml-1 font-medium"},it={class:"ml-1 font-medium font-mono"},rt={class:"mt-2 text-xs"},dt={class:"ml-1"},xt={class:"mb-4"},pt={key:1,class:"border rounded max-h-80 overflow-y-auto"},vt={class:"w-full text-xs"},gt={class:"divide-y divide-gray-200"},bt={class:"px-2 py-1.5 text-gray-900"},yt={class:"px-2 py-1.5 text-gray-700"},ft={class:"px-2 py-1.5 text-gray-700"},mt={class:"px-2 py-1.5 text-right font-mono text-gray-900"},ht={class:"px-2 py-1.5 text-gray-700"},wt={class:"px-2 py-1.5 text-center"},kt=["onClick"],Ct={key:2,class:"text-xs text-gray-500 text-center py-4"},Dt={key:3,class:"text-xs text-gray-500 text-center py-4"},St={class:"p-4 space-y-3"},At=["value"],_t=["value"],Ft={class:"grid grid-cols-2 gap-3"},It={class:"p-4"},Ut={class:"mb-3 bg-gray-50 p-3 rounded"},jt={class:"text-xs text-gray-900 font-medium mb-1"},Et={class:"flex items-center gap-4 text-2xs text-gray-600"},Vt={key:0,class:"text-2xs text-green-600 mt-1"},Mt={key:1,class:"text-2xs text-orange-600 mt-1"},Lt={class:"grid grid-cols-2 gap-4 mb-4"},Tt={class:"border-2 border-green-200 bg-green-50 rounded p-3"},Nt={class:"flex items-center justify-between mb-2"},Pt={class:"text-xs font-mono text-green-700"},zt={class:"text-2xs text-gray-600 mb-2 italic"},Rt={class:"space-y-2"},$t=["value"],Yt=["value"],Ht={class:"border-2 border-blue-200 bg-blue-50 rounded p-3"},Gt={class:"flex items-center justify-between mb-2"},Ot={class:"text-xs font-mono text-blue-700"},Jt={class:"text-2xs text-gray-600 mb-2 italic"},qt={class:"space-y-2"},Wt=["value"],Bt=["value"],Kt={class:"flex justify-end gap-2"},Xt=["disabled"],Qt=t({__name:"OfflineJournalsView",setup(t){const Qt=a([]),Zt=a(!1),ea=a(""),ta=a(""),aa=a(""),la=a([]),sa=a(!1),oa=a(!0),na=a(!1),ca=a(null),ua=a(""),ia=a({}),ra=a(null),da=a(!1),xa=a([]),pa=a(!1),va=a(null),ga=a({account:"",subaccount:"",debit:0,credit:0}),ba=a(!1),ya=a(null),fa=a(""),ma=a([]),ha=a(!1),wa=a(null),ka=a({debitAccount:"",debitSubaccount:"",creditAccount:"",creditSubaccount:""}),Ca=a([]),Da=a([]),Sa=l(()=>wa.value?Qt.value.find(e=>e.ID!==wa.value.ID&&e.date===wa.value.date&&e.description===wa.value.description&&(e.debit>0&&wa.value.credit>0||e.credit>0&&wa.value.debit>0)):null),Aa=a(null),_a=a(null),Fa=a(null),Ia=a({dateCol:0,descCol:1,amountCol:2,hasHeader:!0,dateFormat:""}),Ua=a(!1),ja=a(null);function Ea(){ba.value=!1,ya.value=null,fa.value="",ma.value=[]}async function Va(){if(ya.value)try{const e=ya.value.debit||ya.value.credit,t=rl(ya.value.date),a=await async function(e){return(await _.get(`${E}/expenses/search`,{params:e})).data}({query:fa.value||void 0,date:t,amount:e});ma.value=a}catch(e){console.error("Failed to search expenses:",e),ma.value=[]}else ma.value=[]}async function Ma(e){if(ya.value)try{await async function(e,t){return(await _.post(`${E}/expenses/${e}/reconcile`,{offline_journal_id:t})).data}(e,ya.value.ID),Ea(),await La()}catch(t){console.error("Failed to reconcile expense:",t)}}async function La(){Zt.value=!0;try{const t={};ea.value&&(t.start_date=ea.value),ta.value&&(t.end_date=ta.value),aa.value&&(t.status=aa.value),Qt.value=await async function(t){return(await e.get(U,{params:t})).data||[]}(t)}catch(t){console.error("Failed to fetch offline journals:",t)}finally{Zt.value=!1}}function Ta(e){const t=[];let a="",l=!1;for(let s=0;s<e.length;s++){const o=e[s];'"'===o?l&&'"'===e[s+1]?(a+='"',s++):l=!l:","!==o||l?a+=o:(t.push(a.trim()),a="")}return t.push(a.trim()),t}async function Na(e){var t;const a=null==(t=e.target.files)?void 0:t[0];if(a){_a.value=a,ja.value=null;try{const e=(await a.text()).split("\n").filter(e=>e.trim());if(0===e.length)return void(ja.value={success:!1,message:"CSV file is empty"});const t=Ta(e[0]),l=[];for(let a=1;a<Math.min(e.length,6);a++)l.push(Ta(e[a]));Fa.value={headers:t,rows:l,totalRows:e.length-1},t.forEach((e,t)=>{const a=e.toLowerCase();(a.includes("date")||a.includes("trans"))&&(Ia.value.dateCol=t),(a.includes("description")||a.includes("desc")||a.includes("memo")||a.includes("name"))&&(Ia.value.descCol=t),(a.includes("amount")||a.includes("price")||a.includes("debit")||a.includes("credit"))&&(Ia.value.amountCol=t)})}catch(l){console.error("CSV parse error:",l),ja.value={success:!1,message:"Failed to parse CSV: "+l.message}}}}function Pa(){Fa.value=null,_a.value=null,Aa.value&&(Aa.value.value=""),ja.value=null}async function za(){var t;if(_a.value){Ua.value=!0,ja.value=null;try{const t=await async function(t,a){const l=new FormData;return l.append("file",t),l.append("date_col",a.dateCol.toString()),l.append("desc_col",a.descCol.toString()),l.append("amount_col",a.amountCol.toString()),l.append("has_header",a.hasHeader.toString()),a.dateFormat&&l.append("date_format",a.dateFormat),(await e.post(`${U}/upload-csv`,l,{headers:{"Content-Type":"multipart/form-data"}})).data}(_a.value,{dateCol:Ia.value.dateCol,descCol:Ia.value.descCol,amountCol:Ia.value.amountCol,hasHeader:Ia.value.hasHeader,dateFormat:Ia.value.dateFormat||void 0});ja.value={success:!0,message:t.message,imported:t.imported,skipped:t.skipped},await La(),Fa.value=null,_a.value=null,Aa.value&&(Aa.value.value="")}catch(a){ja.value={success:!1,message:(null==(t=a.response)?void 0:t.data)||"CSV upload failed"}}finally{Ua.value=!1}}}function Ra(){na.value=!1,ca.value=null,ua.value=""}async function $a(){if(ca.value)try{const e=ca.value;await j(e.ID,e.status,ua.value),e.notes=ua.value,Ra()}catch(e){console.error("Failed to save note:",e),alert("Failed to save note")}}function Ya(e){return e?Da.value.filter(t=>t.account_code===e):[]}function Ha(){ha.value=!1,wa.value=null}async function Ga(){if(wa.value&&Sa.value)try{const t=wa.value.date.split("T")[0];await async function(t){await e.post(`${U}/categorize`,t)}({date:t,description:wa.value.description,from_account:ka.value.debitAccount,from_subaccount:ka.value.debitSubaccount,to_account:ka.value.creditAccount,to_subaccount:ka.value.creditSubaccount}),Ha(),await La()}catch(t){console.error("Failed to categorize transaction:",t),alert("Failed to categorize transaction")}else alert("Could not find paired transaction entry")}function Oa(){pa.value=!1,va.value=null}async function Ja(){if(va.value)try{await async function(t,a){await e.put(`${U}/${t}/edit`,a)}(va.value.ID,{account:ga.value.account,sub_account:ga.value.subaccount,debit:ga.value.debit,credit:ga.value.credit}),Oa(),await La()}catch(t){console.error("Failed to save edit:",t),alert("Failed to save changes")}}async function qa(t){try{await async function(t){await e.delete(`${U}/${t}`)}(t),await La()}catch(a){console.error("Failed to delete entry:",a),alert("Failed to delete entry")}}async function Wa(e,t){try{const a=Qt.value.find(t=>t.ID===e),l=(null==a?void 0:a.notes)||"";await j(e,t,l),await La()}catch(a){console.error("Failed to update status:",a),alert("Failed to update status: "+a.message)}}async function Ba(t){if(0!==la.value.length)try{await async function(t,a){await e.post(`${U}/bulk-update`,{ids:t,status:a})}(la.value,t),la.value=[],await La()}catch(a){console.error("Failed to bulk update:",a),alert("Failed to bulk update: "+a.message)}}async function Ka(){if(0===la.value.length)return;const e=la.value.filter(e=>{const t=Qt.value.find(t=>t.ID===e);return t&&"approved"===t.status&&"UNCLASSIFIED"!==t.account});0!==e.length&&(xa.value=e,da.value=!0)}function Xa(){da.value=!1,xa.value=[]}async function Qa(){try{await async function(t){return(await e.post(`${U}/post-to-gl`,{ids:t})).data}(xa.value),la.value=[],Xa(),await La()}catch(t){console.error("Failed to post to GL:",t),alert("Failed to post to GL: "+t.message)}}function Za(){sa.value?la.value=tl.value.map(e=>e.ID):la.value=[]}function el(){la.value=[]}s(()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);ea.value=t.toISOString().split("T")[0],ta.value=a.toISOString().split("T")[0],La(),async function(){try{const[e,t]=await Promise.all([S(),A()]);Ca.value=e.filter(e=>e.is_active),Da.value=t.filter(e=>e.is_active)}catch(e){console.error("Failed to load accounts:",e)}}()});const tl=l(()=>Qt.value),al=l(()=>({pending:Qt.value.filter(e=>"pending_review"===e.status).length,approved:Qt.value.filter(e=>"approved"===e.status).length,duplicate:Qt.value.filter(e=>"duplicate"===e.status).length,excluded:Qt.value.filter(e=>"excluded"===e.status).length})),ll=l(()=>la.value.some(e=>{const t=Qt.value.find(t=>t.ID===e);return t&&"pending_review"===t.status})),sl=l(()=>la.value.some(e=>{const t=Qt.value.find(t=>t.ID===e);return t&&"approved"===t.status&&"UNCLASSIFIED"!==t.account})),ol=l(()=>la.value.some(e=>{const t=Qt.value.find(t=>t.ID===e);return t&&("duplicate"===t.status||"excluded"===t.status)})),nl=l(()=>{const e=new Map;return Qt.value.filter(e=>"UNCLASSIFIED"!==e.account&&"posted"!==e.status&&"excluded"!==e.status).forEach(t=>{e.has(t.account)||e.set(t.account,{totalDebits:0,totalCredits:0});const a=e.get(t.account);a.totalDebits+=t.debit,a.totalCredits+=t.credit}),Array.from(e.entries()).map(([e,t])=>({account:e,totalDebits:t.totalDebits,totalCredits:t.totalCredits,netEffect:t.totalDebits-t.totalCredits})).sort((e,t)=>e.account.localeCompare(t.account))}),cl=l(()=>nl.value.reduce((e,t)=>e+t.totalDebits,0)),ul=l(()=>nl.value.reduce((e,t)=>e+t.totalCredits,0)),il=l(()=>Math.abs(cl.value-ul.value)<100);function rl(e){return new Date(e).toLocaleDateString("en-US")}return(e,t)=>{var a,l,s,S,A,_,U,j,E,Qt,Da;return D(),o("div",V,[t[109]||(t[109]=n("div",{class:"mb-3"},[n("h1",{class:"text-xl font-bold text-gray-900"},"Offline Journal Review"),n("p",{class:"mt-0.5 text-xs text-gray-500"}," Import and review external accounting entries from CSV ")],-1)),n("div",M,[t[35]||(t[35]=n("h2",{class:"text-xs font-medium text-gray-900 mb-2"},"Upload CSV File",-1)),Fa.value?(D(),o("div",T,[n("div",{class:"flex justify-between items-center"},[t[29]||(t[29]=n("h3",{class:"text-xs font-medium text-gray-900"},"Preview and Map Columns",-1)),n("button",{onClick:Pa,class:"text-xs text-gray-600 hover:text-gray-900"}," Cancel ")]),n("div",N,[n("div",null,[t[30]||(t[30]=n("label",{class:"block text-xs text-gray-700 mb-0.5"},"Date Column",-1)),i(n("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>Ia.value.dateCol=e),class:"w-full px-1 py-1 text-xs border rounded"},[(D(!0),o(d,null,x(Fa.value.headers,(e,t)=>(D(),o("option",{key:t,value:t},p(t)+": "+p(e),9,P))),128))],512),[[r,Ia.value.dateCol,void 0,{number:!0}]])]),n("div",null,[t[31]||(t[31]=n("label",{class:"block text-xs text-gray-700 mb-0.5"},"Description Column",-1)),i(n("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Ia.value.descCol=e),class:"w-full px-1 py-1 text-xs border rounded"},[(D(!0),o(d,null,x(Fa.value.headers,(e,t)=>(D(),o("option",{key:t,value:t},p(t)+": "+p(e),9,z))),128))],512),[[r,Ia.value.descCol,void 0,{number:!0}]])]),n("div",null,[t[32]||(t[32]=n("label",{class:"block text-xs text-gray-700 mb-0.5"},"Amount Column",-1)),i(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Ia.value.amountCol=e),class:"w-full px-1 py-1 text-xs border rounded"},[(D(!0),o(d,null,x(Fa.value.headers,(e,t)=>(D(),o("option",{key:t,value:t},p(t)+": "+p(e),9,R))),128))],512),[[r,Ia.value.amountCol,void 0,{number:!0}]])]),n("div",null,[t[33]||(t[33]=n("label",{class:"block text-xs text-gray-700 mb-0.5"},[v("Date Format "),n("span",{class:"text-gray-500 font-normal"},"(YYYY-MM-DD, MM/DD/YYYY, etc.)")],-1)),i(n("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>Ia.value.dateFormat=e),type:"text",placeholder:"YYYY-MM-DD or leave empty to auto-detect",class:"w-full px-1 py-1 text-xs border rounded"},null,512),[[g,Ia.value.dateFormat]])])]),n("div",$,[n("label",Y,[i(n("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>Ia.value.hasHeader=e),type:"checkbox",class:"mr-1"},null,512),[[b,Ia.value.hasHeader]]),t[34]||(t[34]=v(" First row is header "))]),n("button",{onClick:za,disabled:Ua.value,class:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-300"},p(Ua.value?"Uploading...":"Import Transactions"),9,H)]),n("div",G,[n("table",O,[n("thead",J,[n("tr",null,[(D(!0),o(d,null,x(Fa.value.headers,(e,t)=>(D(),o("th",{key:t,class:"px-2 py-1 text-left text-xs font-medium text-gray-500"},p(t)+": "+p(e),1))),128))])]),n("tbody",q,[(D(!0),o(d,null,x(Fa.value.rows.slice(0,5),(e,t)=>(D(),o("tr",{key:t},[(D(!0),o(d,null,x(e,(e,t)=>(D(),o("td",{key:t,class:"px-2 py-1 text-xs text-gray-900"},p(e),1))),128))]))),128))])])]),n("p",W,"Showing first 5 rows of "+p(Fa.value.totalRows)+" total",1)])):(D(),o("div",L,[n("input",{ref_key:"csvFileInput",ref:Aa,type:"file",accept:".csv",onChange:Na,class:"block w-full text-xs text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,544)])),ja.value?(D(),o("div",{key:2,class:y(["mt-2 p-2 rounded",ja.value.success?"bg-green-50":"bg-red-50"])},[n("p",{class:y([ja.value.success?"text-green-800":"text-red-800","text-xs"])},p(ja.value.message),3),ja.value.success?(D(),o("p",B," Imported: "+p(ja.value.imported)+" | Skipped (duplicates): "+p(ja.value.skipped),1)):c("",!0)],2)):c("",!0)]),n("div",K,[t[40]||(t[40]=n("h2",{class:"text-sm font-medium text-gray-900 mb-2"},"Filters",-1)),n("div",X,[n("div",null,[t[36]||(t[36]=n("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Start Date",-1)),i(n("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>ea.value=e),type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 rounded"},null,512),[[g,ea.value]])]),n("div",null,[t[37]||(t[37]=n("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"End Date",-1)),i(n("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>ta.value=e),type:"date",class:"w-full px-2 py-1 text-xs border border-gray-300 rounded"},null,512),[[g,ta.value]])]),n("div",null,[t[39]||(t[39]=n("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Status",-1)),i(n("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>aa.value=e),class:"w-full px-2 py-1 text-xs border border-gray-300 rounded"},t[38]||(t[38]=[f('<option value="">All</option><option value="pending_review">Pending Review</option><option value="approved">Approved</option><option value="posted">Posted</option><option value="reconciled">Reconciled</option><option value="duplicate">Duplicate</option><option value="excluded">Excluded</option>',7)]),512),[[r,aa.value]])]),n("div",{class:"flex items-end"},[n("button",{onClick:La,class:"w-full px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700"}," Apply Filters ")])])]),n("div",Q,[n("div",Z,[t[41]||(t[41]=n("div",{class:"text-xs text-gray-500"},"Pending Review",-1)),n("div",ee,p(al.value.pending),1)]),n("div",te,[t[42]||(t[42]=n("div",{class:"text-xs text-gray-500"},"Approved",-1)),n("div",ae,p(al.value.approved),1)]),n("div",le,[t[43]||(t[43]=n("div",{class:"text-xs text-gray-500"},"Duplicate",-1)),n("div",se,p(al.value.duplicate),1)]),n("div",oe,[t[44]||(t[44]=n("div",{class:"text-xs text-gray-500"},"Excluded",-1)),n("div",ne,p(al.value.excluded),1)])]),n("div",ce,[n("div",ue,[t[45]||(t[45]=n("h2",{class:"text-sm font-semibold text-gray-900"},"Summary by Account",-1)),n("button",{onClick:t[8]||(t[8]=e=>oa.value=!oa.value),class:"text-xs text-blue-600 hover:text-blue-800"},p(oa.value?"Hide":"Show"),1)]),oa.value?(D(),o("div",ie,[0===nl.value.length?(D(),o("div",re," No categorized entries in this period ")):(D(),o("div",de,[t[47]||(t[47]=n("div",{class:"grid grid-cols-4 gap-2 text-2xs font-semibold text-gray-700 pb-1 border-b"},[n("div",null,"Account"),n("div",{class:"text-right"},"Total Debits"),n("div",{class:"text-right"},"Total Credits"),n("div",{class:"text-right"},"Net Effect")],-1)),(D(!0),o(d,null,x(nl.value,e=>(D(),o("div",{key:e.account,class:"grid grid-cols-4 gap-2 text-xs py-1 border-b border-gray-100"},[n("div",xe,p(e.account),1),n("div",pe,p(e.totalDebits>0?m(F)(e.totalDebits):"-"),1),n("div",ve,p(e.totalCredits>0?m(F)(e.totalCredits):"-"),1),n("div",{class:y(["text-right font-mono tabular-nums font-medium",e.netEffect>0?"text-green-700":e.netEffect<0?"text-red-700":"text-gray-900"])},[v(p(m(F)(Math.abs(e.netEffect)))+" ",1),n("span",ge,p(e.netEffect>0?"DR":e.netEffect<0?"CR":""),1)],2)]))),128)),n("div",be,[t[46]||(t[46]=n("div",{class:"text-gray-900"},"TOTAL",-1)),n("div",ye,p(m(F)(cl.value)),1),n("div",fe,p(m(F)(ul.value)),1),n("div",{class:y(["text-right font-mono tabular-nums",il.value?"text-green-700":"text-red-700"])},p(il.value?"✓ Balanced":"⚠ Unbalanced"),3)])]))])):c("",!0)]),la.value.length>0?(D(),o("div",me,[n("div",he,[n("span",we,p(la.value.length)+" selected ",1),n("div",ke,[ll.value?(D(),o("button",{key:0,onClick:t[9]||(t[9]=e=>Ba("approved")),class:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700"},t[48]||(t[48]=[n("i",{class:"fas fa-check mr-1"},null,-1),v(" Approve ")]))):c("",!0),sl.value?(D(),o("button",{key:1,onClick:Ka,class:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700"},t[49]||(t[49]=[n("i",{class:"fas fa-arrow-right mr-1"},null,-1),v(" Post to GL ")]))):c("",!0),ol.value?(D(),o("button",{key:2,onClick:t[10]||(t[10]=e=>Ba("pending_review")),class:"px-2 py-1 bg-sky-600 text-white text-xs rounded hover:bg-sky-700"},t[50]||(t[50]=[n("i",{class:"fas fa-undo mr-1"},null,-1),v(" Reset to Pending ")]))):c("",!0),n("button",{onClick:t[11]||(t[11]=e=>Ba("duplicate")),class:"px-2 py-1 bg-orange-600 text-white text-xs rounded hover:bg-orange-700"},t[51]||(t[51]=[n("i",{class:"fas fa-copy mr-1"},null,-1),v(" Duplicate ")])),n("button",{onClick:t[12]||(t[12]=e=>Ba("excluded")),class:"px-2 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700"},t[52]||(t[52]=[n("i",{class:"fas fa-ban mr-1"},null,-1),v(" Exclude ")])),n("button",{onClick:el,class:"px-2 py-1 bg-white text-gray-700 text-xs rounded border border-gray-300 hover:bg-gray-50"}," Clear ")])])])):c("",!0),n("div",Ce,[n("div",De,[n("table",Se,[t[69]||(t[69]=n("colgroup",null,[n("col",{class:"w-8"}),n("col",{class:"w-20"}),n("col",{class:"w-32"}),n("col",{class:"w-28"}),n("col"),n("col",{class:"w-24"}),n("col",{class:"w-24"}),n("col",{class:"w-20"}),n("col",{class:"w-16"})],-1)),n("thead",Ae,[n("tr",null,[n("th",_e,[i(n("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=e=>sa.value=e),onChange:Za,class:"rounded"},null,544),[[b,sa.value]])]),t[53]||(t[53]=n("th",{class:"px-2 py-1 text-left text-xs font-semibold text-gray-700 uppercase"}," Date ",-1)),t[54]||(t[54]=n("th",{class:"px-2 py-1 text-left text-xs font-semibold text-gray-700 uppercase"}," Account ",-1)),t[55]||(t[55]=n("th",{class:"px-2 py-1 text-left text-xs font-semibold text-gray-700 uppercase"}," Sub-Account ",-1)),t[56]||(t[56]=n("th",{class:"px-2 py-1 text-left text-xs font-semibold text-gray-700 uppercase"}," Description ",-1)),t[57]||(t[57]=n("th",{class:"px-1.5 py-1 text-right text-xs font-semibold text-gray-700 uppercase"}," Debit ",-1)),t[58]||(t[58]=n("th",{class:"px-1.5 py-1 text-right text-xs font-semibold text-gray-700 uppercase"}," Credit ",-1)),t[59]||(t[59]=n("th",{class:"px-1 py-1 text-center text-xs font-semibold text-gray-700 uppercase"}," Status ",-1)),t[60]||(t[60]=n("th",{class:"px-1 py-1 text-center text-xs font-semibold text-gray-700 uppercase"}," Actions ",-1))])]),n("tbody",Fe,[Zt.value?(D(),o("tr",Ie,t[61]||(t[61]=[n("td",{colspan:"10",class:"px-6 py-4 text-center text-gray-500"}," Loading... ",-1)]))):0===tl.value.length?(D(),o("tr",Ue,t[62]||(t[62]=[n("td",{colspan:"10",class:"px-6 py-4 text-center text-gray-500"}," No offline journals found ",-1)]))):(D(!0),o(d,{key:2},x(tl.value,e=>{return D(),o("tr",{key:e.ID,class:y(["hover:bg-gray-50","UNCLASSIFIED"===e.account?"cursor-pointer":""]),onClick:t=>"UNCLASSIFIED"===e.account?function(e){wa.value=e,ka.value={debitAccount:"",debitSubaccount:"",creditAccount:"",creditSubaccount:""},ha.value=!0}(e):null},[n("td",Ee,[n("input",{type:"checkbox",checked:(l=e.ID,la.value.includes(l)),onClick:h(t=>function(e){const t=la.value.indexOf(e);t>-1?la.value.splice(t,1):la.value.push(e)}(e.ID),["stop"]),class:"rounded"},null,8,Ve)]),n("td",{class:"px-2 py-1 text-xs text-gray-900 truncate",title:rl(e.date)},p(rl(e.date)),9,Me),n("td",{class:"px-2 py-1 text-xs font-medium text-gray-900 truncate",title:e.account},p(e.account),9,Le),n("td",{class:"px-2 py-1 text-xs text-gray-700 truncate",title:e.sub_account||"-"},p(e.sub_account||"-"),9,Te),n("td",Ne,[n("div",Pe,[n("button",{onClick:h(t=>function(e,t){ca.value=e,ua.value=e.notes||"";const a=t.currentTarget.getBoundingClientRect(),l=288,s=window.innerWidth-a.right,o=a.left;let n;n=s>296?a.right+8:o>296?a.left-l-8:s>o?Math.max(8,window.innerWidth-l-8):8;let c=a.top;c+130>window.innerHeight-8&&(c=Math.max(8,window.innerHeight-130-8)),c<8&&(c=8),ia.value={left:`${n}px`,top:`${c}px`},na.value=!0,setTimeout(()=>{var e;null==(e=ra.value)||e.focus()},50)}(e,t),["stop"]),class:y(["shrink-0",e.notes?"text-amber-600 hover:text-amber-800":"text-gray-400 hover:text-gray-600"]),title:e.notes||"Add note"},[n("i",{class:y(["fas",e.notes?"fa-sticky-note":"fa-plus-circle","text-xs"])},null,2)],10,ze),n("span",{class:"truncate",title:e.description},p(e.description),9,Re)])]),n("td",$e,p(e.debit>0?m(F)(e.debit):""),1),n("td",Ye,p(e.credit>0?m(F)(e.credit):""),1),n("td",He,[n("span",{class:y(["px-1.5 py-0.5 text-[10px] font-semibold rounded whitespace-nowrap",m(I)(e.status)])},p((a=e.status,{pending_review:"Pending",approved:"Approved",duplicate:"Duplicate",excluded:"Excluded"}[a]||a)),3)]),n("td",Ge,[n("div",Oe,["pending_review"===e.status?(D(),o("button",{key:0,onClick:h(t=>Wa(e.ID,"approved"),["stop"]),class:"text-green-600 hover:text-green-900",title:"Approve"},t[63]||(t[63]=[n("i",{class:"fas fa-check text-xs"},null,-1)]),8,Je)):c("",!0),"approved"===e.status&&!e.reconciled_expense_id&&(e.debit>0||e.credit>0)?(D(),o("button",{key:1,onClick:h(t=>async function(e){ya.value=e,fa.value="",ba.value=!0,await Va()}(e),["stop"]),class:"text-purple-600 hover:text-purple-900",title:"Match to Expense"},t[64]||(t[64]=[n("i",{class:"fas fa-link text-xs"},null,-1)]),8,qe)):c("",!0),e.reconciled_expense_id?(D(),o("span",We,t[65]||(t[65]=[n("i",{class:"fas fa-check-circle text-xs"},null,-1)]))):c("",!0),"duplicate"===e.status||"excluded"===e.status?(D(),o("button",{key:3,onClick:h(t=>Wa(e.ID,"pending_review"),["stop"]),class:"text-blue-600 hover:text-blue-900",title:"Reset to Pending Review"},t[66]||(t[66]=[n("i",{class:"fas fa-undo text-xs"},null,-1)]),8,Be)):c("",!0),"posted"!==e.status&&"UNCLASSIFIED"!==e.account?(D(),o("button",{key:4,onClick:h(t=>function(e){va.value=e,ga.value={account:e.account,subaccount:e.sub_account||"",debit:e.debit/100,credit:e.credit/100},pa.value=!0}(e),["stop"]),class:"text-sky-600 hover:text-sky-900",title:"Edit Entry"},t[67]||(t[67]=[n("i",{class:"fas fa-edit text-xs"},null,-1)]),8,Ke)):c("",!0),"posted"!==e.status?(D(),o("button",{key:5,onClick:h(t=>qa(e.ID),["stop"]),class:"text-red-600 hover:text-red-900",title:"Delete"},t[68]||(t[68]=[n("i",{class:"fas fa-trash-alt text-xs"},null,-1)]),8,Xe)):c("",!0)])])],10,je);var a,l}),128))])])])]),(D(),u(C,{to:"body"},[na.value?(D(),o("div",{key:0,onClick:Ra,class:"pointer-events-none fixed inset-0 z-50"},[n("div",{onClick:t[15]||(t[15]=h(()=>{},["stop"])),style:k(ia.value),class:"pointer-events-auto absolute w-72 transform rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5"},[n("div",Qe,[n("div",Ze,[t[72]||(t[72]=n("div",{class:"shrink-0"},[n("i",{class:"fas fa-sticky-note text-amber-500 text-xs"})],-1)),n("div",et,[n("div",{class:"flex items-center justify-between mb-1"},[t[71]||(t[71]=n("p",{class:"text-2xs font-medium text-gray-900"},"Note",-1)),n("button",{onClick:Ra,class:"inline-flex rounded text-gray-400 hover:text-gray-500 focus:outline-none"},t[70]||(t[70]=[n("span",{class:"sr-only"},"Close",-1),n("i",{class:"fas fa-times text-2xs"},null,-1)]))]),i(n("textarea",{ref_key:"noteTextarea",ref:ra,"onUpdate:modelValue":t[14]||(t[14]=e=>ua.value=e),placeholder:"Add a note...",class:"w-full px-1.5 py-1 text-2xs border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-transparent resize-none",rows:"2",onKeydown:w(Ra,["escape"])},null,544),[[g,ua.value]]),n("div",{class:"flex justify-end gap-1 mt-1.5"},[n("button",{onClick:Ra,class:"px-1.5 py-0.5 text-2xs text-gray-700 hover:text-gray-900 focus:outline-none"}," Cancel "),n("button",{onClick:$a,class:"px-2 py-0.5 text-2xs bg-amber-600 text-white rounded hover:bg-amber-700 focus:outline-none"}," Save ")])])])])],4)])):c("",!0)])),da.value?(D(),o("div",{key:1,onClick:Xa,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500/75"},[n("div",{onClick:t[16]||(t[16]=h(()=>{},["stop"])),class:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4"},[t[76]||(t[76]=n("div",{class:"bg-blue-600 px-4 py-3 rounded-t-lg"},[n("h3",{class:"text-sm font-semibold text-white"},"Confirm Post to General Ledger")],-1)),n("div",tt,[n("div",at,[t[74]||(t[74]=n("div",{class:"flex-shrink-0"},[n("i",{class:"fas fa-exclamation-triangle text-yellow-500 text-2xl"})],-1)),n("div",null,[n("p",lt," Post "+p(xa.value.length)+" "+p(1===xa.value.length?"entry":"entries")+" to the General Ledger? ",1),t[73]||(t[73]=n("p",{class:"text-xs text-gray-600"}," Once posted, these entries will be part of your official accounting records and cannot be edited. Any corrections will require reversing journal entries. ",-1))])]),n("div",{class:"flex justify-end gap-2"},[n("button",{onClick:Xa,class:"px-3 py-1.5 text-xs text-gray-700 border border-gray-300 rounded hover:bg-gray-50"}," Cancel "),n("button",{onClick:Qa,class:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-700"},t[75]||(t[75]=[n("i",{class:"fas fa-arrow-right mr-1"},null,-1),v(" Post to GL ")]))])])])])):c("",!0),ba.value?(D(),o("div",{key:2,onClick:Ea,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500/75"},[n("div",{onClick:t[18]||(t[18]=h(()=>{},["stop"])),class:"bg-white rounded-lg shadow-xl w-full max-w-3xl mx-4"},[n("div",{class:"bg-purple-600 px-4 py-3 rounded-t-lg flex items-center justify-between"},[t[78]||(t[78]=n("h3",{class:"text-sm font-semibold text-white"},[n("i",{class:"fas fa-link mr-2"}),v(" Match Transaction to Expense ")],-1)),n("button",{onClick:Ea,class:"text-white hover:text-gray-200"},t[77]||(t[77]=[n("i",{class:"fas fa-times"},null,-1)]))]),n("div",st,[ya.value?(D(),o("div",ot,[t[83]||(t[83]=n("div",{class:"text-xs text-gray-700 mb-2 font-semibold"},"Transaction Details:",-1)),n("div",nt,[n("div",null,[t[79]||(t[79]=n("span",{class:"text-gray-600"},"Date:",-1)),n("span",ct,p(rl(ya.value.date)),1)]),n("div",null,[t[80]||(t[80]=n("span",{class:"text-gray-600"},"Account:",-1)),n("span",ut,p(ya.value.account),1)]),n("div",null,[t[81]||(t[81]=n("span",{class:"text-gray-600"},"Amount:",-1)),n("span",it,p(m(F)(ya.value.debit||ya.value.credit)),1)])]),n("div",rt,[t[82]||(t[82]=n("span",{class:"text-gray-600"},"Description:",-1)),n("span",dt,p(ya.value.description),1)])])):c("",!0),n("div",xt,[t[84]||(t[84]=n("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"Search for matching expense:",-1)),i(n("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>fa.value=e),onInput:Va,type:"text",placeholder:"Search by description...",class:"w-full px-3 py-2 text-xs border border-gray-300 rounded focus:ring-purple-500 focus:border-purple-500"},null,544),[[g,fa.value]])]),ma.value.length>0?(D(),o("div",pt,[n("table",vt,[t[86]||(t[86]=n("thead",{class:"bg-gray-50 sticky top-0"},[n("tr",null,[n("th",{class:"px-2 py-1.5 text-left text-xs font-semibold text-gray-700"},"Date"),n("th",{class:"px-2 py-1.5 text-left text-xs font-semibold text-gray-700"},"Project"),n("th",{class:"px-2 py-1.5 text-left text-xs font-semibold text-gray-700"},"Description"),n("th",{class:"px-2 py-1.5 text-right text-xs font-semibold text-gray-700"},"Amount"),n("th",{class:"px-2 py-1.5 text-left text-xs font-semibold text-gray-700"},"Category"),n("th",{class:"px-2 py-1.5 text-center text-xs font-semibold text-gray-700"},"Action")])],-1)),n("tbody",gt,[(D(!0),o(d,null,x(ma.value,e=>{var a,l;return D(),o("tr",{key:e.ID,class:"hover:bg-gray-50"},[n("td",bt,p(rl(e.date)),1),n("td",yt,p((null==(a=e.project)?void 0:a.name)||"Internal"),1),n("td",ft,p(e.description),1),n("td",mt,p(m(F)(e.amount)),1),n("td",ht,p(null==(l=e.category)?void 0:l.name),1),n("td",wt,[n("button",{onClick:t=>Ma(e.ID),class:"px-2 py-1 bg-purple-600 text-white text-xs rounded hover:bg-purple-700"},t[85]||(t[85]=[n("i",{class:"fas fa-check mr-1"},null,-1),v(" Match ")]),8,kt)])])}),128))])])])):fa.value?(D(),o("div",Ct," No matching expenses found ")):(D(),o("div",Dt," Start typing to search for expenses "))])])])):c("",!0),pa.value?(D(),o("div",{key:3,onClick:Oa,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500/75"},[n("div",{onClick:t[23]||(t[23]=h(()=>{},["stop"])),class:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4"},[t[93]||(t[93]=n("div",{class:"bg-sage px-4 py-3 rounded-t-lg"},[n("h3",{class:"text-sm font-semibold text-white"},"Edit Journal Entry")],-1)),n("div",St,[n("div",null,[t[88]||(t[88]=n("label",{class:"block text-xs text-gray-700 mb-1"},"Account",-1)),i(n("select",{"onUpdate:modelValue":t[19]||(t[19]=e=>ga.value.account=e),class:"w-full px-2 py-1.5 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[87]||(t[87]=n("option",{value:""},"Select account...",-1)),(D(!0),o(d,null,x(Ca.value,e=>(D(),o("option",{key:e.account_code,value:e.account_code},p(e.account_name),9,At))),128))],512),[[r,ga.value.account]])]),n("div",null,[t[90]||(t[90]=n("label",{class:"block text-xs text-gray-700 mb-1"},"Subaccount",-1)),i(n("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>ga.value.subaccount=e),class:"w-full px-2 py-1.5 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[89]||(t[89]=n("option",{value:""},"None",-1)),(D(!0),o(d,null,x(Ya(ga.value.account),e=>(D(),o("option",{key:e.code,value:e.code},p(e.name),9,_t))),128))],512),[[r,ga.value.subaccount]])]),n("div",Ft,[n("div",null,[t[91]||(t[91]=n("label",{class:"block text-xs text-gray-700 mb-1"},"Debit",-1)),i(n("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>ga.value.debit=e),type:"number",step:"0.01",class:"w-full px-2 py-1.5 text-xs border rounded focus:ring-1 focus:ring-sage"},null,512),[[g,ga.value.debit,void 0,{number:!0}]])]),n("div",null,[t[92]||(t[92]=n("label",{class:"block text-xs text-gray-700 mb-1"},"Credit",-1)),i(n("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>ga.value.credit=e),type:"number",step:"0.01",class:"w-full px-2 py-1.5 text-xs border rounded focus:ring-1 focus:ring-sage"},null,512),[[g,ga.value.credit,void 0,{number:!0}]])])]),n("div",{class:"flex justify-end gap-2 pt-2"},[n("button",{onClick:Oa,class:"px-3 py-1.5 text-xs text-gray-700 border border-gray-300 rounded hover:bg-gray-50"}," Cancel "),n("button",{onClick:Ja,class:"px-3 py-1.5 text-xs bg-sage text-white rounded hover:bg-sage-dark"}," Save Changes ")])])])])):c("",!0),ha.value?(D(),o("div",{key:4,onClick:Ha,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500/75"},[n("div",{onClick:t[28]||(t[28]=h(()=>{},["stop"])),class:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4"},[t[108]||(t[108]=n("div",{class:"bg-sage px-4 py-3 rounded-t-lg"},[n("h3",{class:"text-sm font-semibold text-white"},"Categorize Transaction")],-1)),n("div",It,[n("div",Ut,[n("p",jt,p(null==(a=wa.value)?void 0:a.description),1),n("div",Et,[n("span",null,[t[94]||(t[94]=n("strong",null,"Date:",-1)),v(" "+p(null==(s=null==(l=wa.value)?void 0:l.date)?void 0:s.split("T")[0]),1)]),n("span",null,[t[95]||(t[95]=n("strong",null,"Amount:",-1)),v(" "+p(m(F)(((null==(S=wa.value)?void 0:S.debit)||0)+((null==(A=wa.value)?void 0:A.credit)||0))),1)])]),Sa.value?(D(),o("p",Vt,t[96]||(t[96]=[n("i",{class:"fas fa-check-circle"},null,-1),v(" Paired entry found - categorizing both sides ")]))):(D(),o("p",Mt,t[97]||(t[97]=[n("i",{class:"fas fa-exclamation-triangle"},null,-1),v(" Warning: No paired entry found ")])))]),n("div",Lt,[n("div",Tt,[n("div",Nt,[t[98]||(t[98]=n("h4",{class:"text-xs font-semibold text-green-900"},"Debit (DR)",-1)),n("span",Pt,p(m(F)((null==(_=wa.value)?void 0:_.debit)||(null==(U=Sa.value)?void 0:U.debit)||0)),1)]),n("div",zt,p((null==(j=wa.value)?void 0:j.debit)?"Current entry":"Paired entry"),1),n("div",Rt,[n("div",null,[t[100]||(t[100]=n("label",{class:"block text-2xs text-gray-700 mb-1"},"Account *",-1)),i(n("select",{"onUpdate:modelValue":t[24]||(t[24]=e=>ka.value.debitAccount=e),class:"w-full px-2 py-1 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[99]||(t[99]=n("option",{value:""},"Select account...",-1)),(D(!0),o(d,null,x(Ca.value,e=>(D(),o("option",{key:e.account_code,value:e.account_code},p(e.account_name),9,$t))),128))],512),[[r,ka.value.debitAccount]])]),n("div",null,[t[102]||(t[102]=n("label",{class:"block text-2xs text-gray-700 mb-1"},"Subaccount",-1)),i(n("select",{"onUpdate:modelValue":t[25]||(t[25]=e=>ka.value.debitSubaccount=e),class:"w-full px-2 py-1 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[101]||(t[101]=n("option",{value:""},"None",-1)),(D(!0),o(d,null,x(Ya(ka.value.debitAccount),e=>(D(),o("option",{key:e.code,value:e.code},p(e.name),9,Yt))),128))],512),[[r,ka.value.debitSubaccount]])])])]),n("div",Ht,[n("div",Gt,[t[103]||(t[103]=n("h4",{class:"text-xs font-semibold text-blue-900"},"Credit (CR)",-1)),n("span",Ot,p(m(F)((null==(E=wa.value)?void 0:E.credit)||(null==(Qt=Sa.value)?void 0:Qt.credit)||0)),1)]),n("div",Jt,p((null==(Da=wa.value)?void 0:Da.credit)?"Current entry":"Paired entry"),1),n("div",qt,[n("div",null,[t[105]||(t[105]=n("label",{class:"block text-2xs text-gray-700 mb-1"},"Account *",-1)),i(n("select",{"onUpdate:modelValue":t[26]||(t[26]=e=>ka.value.creditAccount=e),class:"w-full px-2 py-1 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[104]||(t[104]=n("option",{value:""},"Select account...",-1)),(D(!0),o(d,null,x(Ca.value,e=>(D(),o("option",{key:e.account_code,value:e.account_code},p(e.account_name),9,Wt))),128))],512),[[r,ka.value.creditAccount]])]),n("div",null,[t[107]||(t[107]=n("label",{class:"block text-2xs text-gray-700 mb-1"},"Subaccount",-1)),i(n("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>ka.value.creditSubaccount=e),class:"w-full px-2 py-1 text-xs border rounded focus:ring-1 focus:ring-sage"},[t[106]||(t[106]=n("option",{value:""},"None",-1)),(D(!0),o(d,null,x(Ya(ka.value.creditAccount),e=>(D(),o("option",{key:e.code,value:e.code},p(e.name),9,Bt))),128))],512),[[r,ka.value.creditSubaccount]])])])])]),n("div",Kt,[n("button",{onClick:Ha,class:"px-3 py-1.5 text-xs text-gray-700 border border-gray-300 rounded hover:bg-gray-50"}," Cancel "),n("button",{onClick:Ga,disabled:!ka.value.debitAccount||!ka.value.creditAccount,class:"px-3 py-1.5 text-xs bg-sage text-white rounded hover:bg-sage-dark disabled:bg-gray-300 disabled:cursor-not-allowed"}," Save & Categorize ",8,Xt)])])])])):c("",!0)])}}});export{Qt as default};
