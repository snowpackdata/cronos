import{b as e,r as t,w as s,A as l,o as a,C as o,D as n,u as i,a as u,y as c,E as d,z as m,H as r,J as p,I as f,K as g,c as y,q as x}from"./index-2uCPEpPG.js";import{r as v}from"./XMarkIcon-Bml7Cvcl.js";import{Y as b,h as _,G as h,V as w,S as k}from"./transition-CMIuM6C3.js";const I={class:"fixed inset-0 overflow-hidden"},T={class:"absolute inset-0 overflow-hidden"},L={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10 sm:pl-16"},D={class:"flex-1"},E={class:"bg-sage-dark px-4 py-6 sm:px-6"},C={class:"flex items-start justify-between space-x-3"},N={class:"space-y-1"},j={class:"text-sm text-gray-100"},Y={class:"flex h-7 items-center"},B={class:"space-y-6 py-6 sm:space-y-0 sm:divide-y sm:divide-gray-200 sm:py-0"},U={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},P={class:"sm:col-span-2"},A={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},q={class:"sm:col-span-2"},O={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},V={class:"sm:col-span-2"},G={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},M={class:"sm:col-span-2"},H={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},W={class:"sm:col-span-2"},K={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},z={class:"sm:col-span-2"},J={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},R={class:"sm:col-span-2"},S={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},F={class:"sm:col-span-2 flex items-center"},X={class:"flex items-center"},Q={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},Z={class:"sm:col-span-2"},$={class:"space-y-2 px-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:space-y-0 sm:px-6 sm:py-5"},ee={class:"sm:col-span-2"},te={class:"shrink-0 border-t border-gray-200 px-4 py-5 sm:px-6"},se={class:"flex justify-end space-x-3"},le={type:"submit",class:"inline-flex justify-center rounded-md bg-sage px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sage-dark focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sage"},ae={__name:"AccountDrawer",props:{isOpen:{type:Boolean,default:!1},accountData:{type:Object,default:()=>({})}},emits:["close","save","delete"],setup(ae,{emit:oe}){var ne,ie,ue,ce,de,me,re,pe,fe,ge,ye,xe;const ve=ae,be=oe,_e=()=>{be("close")},he=()=>{window.confirm("Are you sure you want to delete this account? This action cannot be undone and will also remove all projects associated with this account.")&&be("delete",ve.accountData)},we=e(()=>{var e;return!!(null==(e=ve.accountData)?void 0:e.id)}),ke=t({id:(null==(ne=ve.accountData)?void 0:ne.id)||null,ID:(null==(ie=ve.accountData)?void 0:ie.ID)||null,name:(null==(ue=ve.accountData)?void 0:ue.name)||"",type:(null==(ce=ve.accountData)?void 0:ce.type)||"ACCOUNT_TYPE_CLIENT",legal_name:(null==(de=ve.accountData)?void 0:de.legal_name)||"",email:(null==(me=ve.accountData)?void 0:me.email)||"",address:(null==(re=ve.accountData)?void 0:re.address)||"",website:(null==(pe=ve.accountData)?void 0:pe.website)||"",billing_frequency:(null==(fe=ve.accountData)?void 0:fe.billing_frequency)||"BILLING_TYPE_MONTHLY",budget_hours:(null==(ge=ve.accountData)?void 0:ge.budget_hours)||0,budget_dollars:(null==(ye=ve.accountData)?void 0:ye.budget_dollars)||0,projects_single_invoice:(null==(xe=ve.accountData)?void 0:xe.projects_single_invoice)||!1});s(()=>ve.accountData,e=>{e&&(ke.value={id:e.id||null,ID:e.ID||null,name:e.name||"",type:e.type||"ACCOUNT_TYPE_CLIENT",legal_name:e.legal_name||"",email:e.email||"",address:e.address||"",website:e.website||"",billing_frequency:e.billing_frequency||"BILLING_TYPE_MONTHLY",budget_hours:e.budget_hours||0,budget_dollars:e.budget_dollars||0,projects_single_invoice:e.projects_single_invoice||!1})},{deep:!0});const Ie=()=>{ke.value.name&&ke.value.type?(be("save",ke.value),_e()):alert("Please fill in all required fields")};return(e,t)=>(a(),l(i(k),{as:"template",show:ae.isOpen},{default:o(()=>[n(i(b),{class:"relative z-10",onClose:_e},{default:o(()=>[t[25]||(t[25]=u("div",{class:"fixed inset-0"},null,-1)),u("div",I,[u("div",T,[u("div",L,[n(i(_),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:o(()=>[n(i(h),{class:"pointer-events-auto w-screen max-w-2xl"},{default:o(()=>[u("form",{class:"flex h-full flex-col overflow-y-scroll bg-white shadow-xl",onSubmit:c(Ie,["prevent"])},[u("div",D,[u("div",E,[u("div",C,[u("div",N,[n(i(w),{class:"text-base font-semibold text-white"},{default:o(()=>[d(m(we.value?"Edit Account":"New Account"),1)]),_:1}),u("p",j,m(we.value?"Update the account details below.":"Get started by filling in the information below to create a new account."),1)]),u("div",Y,[u("button",{type:"button",class:"relative text-white hover:text-gray-200",onClick:_e},[t[10]||(t[10]=u("span",{class:"absolute -inset-2.5"},null,-1)),t[11]||(t[11]=u("span",{class:"sr-only"},"Close panel",-1)),n(i(v),{class:"h-6 w-6","aria-hidden":"true"})])])])]),u("div",B,[u("div",U,[t[12]||(t[12]=u("div",null,[u("label",{for:"account-name",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Account name")],-1)),u("div",P,[r(u("input",{type:"text",name:"account-name",id:"account-name","onUpdate:modelValue":t[0]||(t[0]=e=>ke.value.name=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.name]])])]),u("div",A,[t[13]||(t[13]=u("div",null,[u("label",{for:"account-legal-name",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Legal name")],-1)),u("div",q,[r(u("input",{type:"text",name:"account-legal-name",id:"account-legal-name","onUpdate:modelValue":t[1]||(t[1]=e=>ke.value.legal_name=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.legal_name]])])]),u("div",O,[t[15]||(t[15]=u("div",null,[u("label",{for:"account-type",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Account Type")],-1)),u("div",V,[r(u("select",{id:"account-type",name:"account-type","onUpdate:modelValue":t[2]||(t[2]=e=>ke.value.type=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},t[14]||(t[14]=[u("option",{value:"ACCOUNT_TYPE_CLIENT"},"Client",-1),u("option",{value:"ACCOUNT_TYPE_INTERNAL"},"Internal",-1)]),512),[[f,ke.value.type]])])]),u("div",G,[t[16]||(t[16]=u("div",null,[u("label",{for:"account-email",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Email")],-1)),u("div",M,[r(u("input",{type:"email",name:"account-email",id:"account-email","onUpdate:modelValue":t[3]||(t[3]=e=>ke.value.email=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.email]])])]),u("div",H,[t[17]||(t[17]=u("div",null,[u("label",{for:"account-website",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Website")],-1)),u("div",W,[r(u("input",{type:"url",name:"account-website",id:"account-website","onUpdate:modelValue":t[4]||(t[4]=e=>ke.value.website=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.website]])])]),u("div",K,[t[18]||(t[18]=u("div",null,[u("label",{for:"account-address",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Address")],-1)),u("div",z,[r(u("textarea",{rows:"3",name:"account-address",id:"account-address","onUpdate:modelValue":t[5]||(t[5]=e=>ke.value.address=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.address]])])]),u("div",J,[t[20]||(t[20]=u("div",null,[u("label",{for:"account-billing-frequency",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Billing Frequency")],-1)),u("div",R,[r(u("select",{id:"account-billing-frequency",name:"account-billing-frequency","onUpdate:modelValue":t[6]||(t[6]=e=>ke.value.billing_frequency=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},t[19]||(t[19]=[u("option",{value:"BILLING_TYPE_WEEKLY"},"Weekly",-1),u("option",{value:"BILLING_TYPE_BIWEEKLY"},"Bi-Weekly",-1),u("option",{value:"BILLING_TYPE_MONTHLY"},"Monthly",-1),u("option",{value:"BILLING_TYPE_BIMONTHLY"},"Bi-Monthly",-1),u("option",{value:"BILLING_TYPE_PROJECT"},"Project-Based",-1)]),512),[[f,ke.value.billing_frequency]])])]),u("div",S,[t[22]||(t[22]=u("div",null,[u("label",{for:"account-projects-single-invoice",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Invoice Type")],-1)),u("div",F,[u("div",X,[r(u("input",{type:"checkbox",id:"account-projects-single-invoice",name:"account-projects-single-invoice","onUpdate:modelValue":t[7]||(t[7]=e=>ke.value.projects_single_invoice=e),class:"h-4 w-4 text-sage focus:ring-sage border-gray-300 rounded"},null,512),[[g,ke.value.projects_single_invoice]]),t[21]||(t[21]=u("label",{for:"account-projects-single-invoice",class:"ml-2 block text-sm text-gray-900"}," Combine all projects into a single invoice ",-1))])])]),u("div",Q,[t[23]||(t[23]=u("div",null,[u("label",{for:"account-budget-hours",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Budget Hours")],-1)),u("div",Z,[r(u("input",{type:"number",name:"account-budget-hours",id:"account-budget-hours","onUpdate:modelValue":t[8]||(t[8]=e=>ke.value.budget_hours=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.budget_hours]])])]),u("div",$,[t[24]||(t[24]=u("div",null,[u("label",{for:"account-budget-dollars",class:"block text-sm/6 font-medium text-gray-900 sm:mt-1.5"},"Budget Dollars")],-1)),u("div",ee,[r(u("input",{type:"number",name:"account-budget-dollars",id:"account-budget-dollars","onUpdate:modelValue":t[9]||(t[9]=e=>ke.value.budget_dollars=e),class:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-sage sm:text-sm/6"},null,512),[[p,ke.value.budget_dollars]])])])])]),u("div",te,[u("div",se,[u("button",{type:"button",class:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",onClick:_e}," Cancel "),we.value?(a(),y("button",{key:0,type:"button",class:"rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600",onClick:he}," Delete ")):x("",!0),u("button",le,m(we.value?"Update":"Create"),1)])])],32)]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"]))}};export{ae as _};
