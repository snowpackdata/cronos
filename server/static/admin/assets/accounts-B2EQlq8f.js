import{Q as e,O as t,P as n,S as c,N as r}from"./index-2uCPEpPG.js";function s(e){const t=[];return e.name||t.push("Account name is required"),e.billing_frequency||t.push("Billing frequency is required"),{isValid:0===t.length,errors:t}}function o(e){const t=new FormData;return t.set("name",e.name),e.legal_name&&t.set("legal_name",e.legal_name),e.address&&t.set("address",e.address),e.website&&t.set("website",e.website),e.email&&t.set("email",e.email),e.type&&t.set("type",e.type),e.billing_frequency?t.set("billing_frequency",e.billing_frequency):t.set("billing_frequency","BILLING_TYPE_MONTHLY"),t.set("budget_hours",e.budget_hours.toString()),t.set("budget_dollars",e.budget_dollars.toString()),t.set("projects_single_invoice",e.projects_single_invoice?"true":"false"),t}const a={fetchAccounts:async()=>r("accounts"),getAccount:async e=>c("accounts",e),async createAccount(t){const n=s(t);if(!n.isValid)throw new Error(`Validation failed: ${n.errors.join(", ")}`);try{const n=o(t);return e("accounts",n)}catch(c){throw console.error("Failed to create account:",c),c}},async updateAccount(e){const t=s(e);if(!t.isValid)throw new Error(`Validation failed: ${t.errors.join(", ")}`);try{const t=o(e);return n("accounts",e.ID,t)}catch(c){throw console.error("Failed to update account:",c),c}},async deleteAccount(e){try{return t("accounts",e)}catch(n){throw console.error("Failed to delete account:",n),n}},async inviteUser(t,n){try{const c=new FormData;return c.append("email",n),e(`accounts/${t}/invite`,c)}catch(c){throw console.error("Failed to invite user:",c),c}}},i=a.fetchAccounts,u=a.createAccount,l=a.updateAccount,d=a.deleteAccount;export{a,u as c,d,i as f,l as u};
